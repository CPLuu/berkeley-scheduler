!function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e,t){function n(t,n,r){e.go(t,n,r)}function r(e){t.open(e,"_blank")}var i=this;i.goToState=n,i.goToExternal=r}t.exports=r},{}],2:[function(e,t,n){!function(){"use strict";angular.module("scheduleBuilder",["ui.router","ngSanitize","ngCookies","ngMaterial","angulartics","angulartics.google.analytics"]),e("./config"),e("./courses.factory"),e("./reverseLookup.factory"),e("./schedule.factory"),e("./_base.controller"),e("./courseFind.controller"),e("./courseViewAndSelect.controller"),e("./generatingSchedules.controller"),e("./scheduleViewAndSelect.controller"),e("./mobileUnoptimizedDialog.controller"),e("./courseDisplayAndSelect.directive"),e("./scheduleDisplay.directive"),e("./generateSchedules.directive"),e("./run")}()},{"./_base.controller":1,"./config":3,"./courseDisplayAndSelect.directive":4,"./courseFind.controller":5,"./courseViewAndSelect.controller":6,"./courses.factory":7,"./generateSchedules.directive":8,"./generatingSchedules.controller":9,"./mobileUnoptimizedDialog.controller":10,"./reverseLookup.factory":11,"./run":12,"./schedule.factory":13,"./scheduleDisplay.directive":14,"./scheduleViewAndSelect.controller":15}],3:[function(e,t,n){angular.module("scheduleBuilder").config(["$stateProvider","$urlRouterProvider","$mdThemingProvider",function(e,t,n){e.state("schedule",{url:"/schedule",templateUrl:"html/schedule.html",controller:"CourseFindCtrl",controllerAs:"vm"}).state("schedule.viewCourse",{url:"/course/{id}",templateUrl:"html/course_view_and_select.partial.html",controller:"CourseViewAndSelectCtrl",controllerAs:"vm"}).state("schedule.generatingSchedules",{url:"/generate?scheduleGroupId&startScheduleId",templateUrl:"html/generating_schedules.partial.html",controller:"GeneratingSchedulesCtrl",controllerAs:"vm"}).state("schedule.viewSchedule",{url:"/{scheduleId}",templateUrl:"html/schedule_view_and_select.partial.html",controller:"ScheduleViewAndSelectCtrl",controllerAs:"vm"}),t.otherwise("schedule");var r={50:"#0073e1",100:"#0066c8",200:"#0059ae",300:"#004c95",400:"#003f7b",500:"#003262",600:"#002548",700:"#00182f",800:"#000b15",900:"#000000",A100:"#0080fb",A200:"#158dff",A400:"#2f99ff",A700:"#000000"};n.definePalette("berkeley-primary",r);var i={50:"#785301",100:"#916501",200:"#ab7601",300:"#c48802",400:"#dd9902",500:"#f6ab02",600:"#fdbd2e",700:"#fdc548",800:"#fecd61",900:"#fed57a",A100:"#fdbd2e",A200:"#FDB515",A400:"#f6ab02",A700:"#fedd93"};n.definePalette("berkeley-accent",i),n.theme("default").primaryPalette("berkeley-primary").accentPalette("berkeley-accent")}])},{}],4:[function(e,t,n){function r(){function e(e,t,n,r){function o(){a.selectAllSections?n.course.sections.forEach(function(e){e.selected=!0}):n.course.sections.forEach(function(e){e.selected=!1}),s()}function s(){r.setStale(!0)}function u(e){return a.sectionTypeMapping[e.type]}i.call(this,e,t);var a=this;a.sectionTypeMapping={LEC:0,DIS:3,GRP:5,LAB:7},a.selectAllSections=!1,a.onChangeSelectAllSections=o,a.setSchedulesStale=s,a.extractSectionTypeMapping=u}return e.prototype=Object.create(i.prototype),{scope:{course:"="},controller:["$state","$window","$scope","scheduleFactory",e],controllerAs:"vm",templateUrl:"html/course_display_and_select.partial.html"}}var i=e("./_base.controller");angular.module("scheduleBuilder").directive("sbCourseDisplayAndSelect",[r])},{"./_base.controller":1}],5:[function(e,t,n){function r(e,t,n,r,o){function s(e){return e?v.subjectAreasList.filter(u(e)):v.subjectAreasList}function u(e){return e=angular.lowercase(e),function(t){return 0===angular.lowercase(t.code).indexOf(e)?!0:0===angular.lowercase(t.description).indexOf(e)?!0:t.abbreviations.some(function(t){return 0===angular.lowercase(t).indexOf(e)})}}function a(e){return e?void n.getCoursesQBySubjectAreaCode(e.code).then(function(e){v.coursesList=e,v.courseIsDisabled=!1}):(v.courseIsDisabled=!0,void(v.coursesList=[]))}function c(e){return e?v.coursesList.filter(l(e)):v.coursesList}function l(e){return e=angular.lowercase(e),function(t){return 0===angular.lowercase(t.courseNumber).indexOf(e)||0===angular.lowercase(t.title).indexOf(e)}}function d(e){e&&y(e)}function h(e){var t=e.courseNumber;return parseInt(T.exec(t)[2])}function f(e){var t=e.courseNumber;return T.exec(t)[3]}function p(e){var t=e.courseNumber;return T.exec(t)[1]}function g(){r.setStale(!0)}function m(){r.setInDisplayMode(!1),v.goToState("schedule")}function y(e){r.addCourse(e)}function S(e){r.dropCourse(e)}o.pageTrack("/schedule"),i.call(this,e,t);var v=this;v.scheduleIsReady=r.isReady(),v.subjectAreaIsDisabled=!1,v.courseIsDisabled=!0,v.selectedCourse=null,v.inDisplayMode=!1,v.coursesList=[],v.subjectAreasList=[],v.searchSubjectArea=s,v.selectSubjectArea=a,v.searchCourse=c,v.selectCourse=d,v.extractCourseNumberNumber=h,v.extractCourseNumberSuffix=f,v.extractCourseNumberPrefix=p,v.addedCoursesList=r.getAllCourses(),v.setSchedulesStale=g,v.leaveDisplayMode=m,v.addCourse=y,v.dropCourse=S,v.generateSchedulesQ=r.generateSchedulesQ,n.getSubjectAreasQ().then(function(e){v.subjectAreasList=e}),r.registerSetReadyListener(function(e){v.scheduleIsReady=e}),r.registerSetInDisplayModeListener(function(e){v.inDisplayMode=e}),r.registerAddCourseListener(function(e){v.addedCoursesList.push(e),v.scheduleIsReady&&v.goToState("schedule.viewCourse",{id:e.id})}),r.registerDropCourseListener(function(e){v.addedCoursesList.remove(e),0!=v.addedCoursesList.length?v.goToState("schedule.viewCourse",{id:v.addedCoursesList[v.addedCoursesList.length-1].id}):v.goToState("schedule")});var T=/^([a-zA-Z]*)(\d+)([a-zA-Z]*)/}var i=e("./_base.controller");r.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("CourseFindCtrl",["$state","$window","courses","scheduleFactory","$analytics",r])},{"./_base.controller":1}],6:[function(e,t,n){function r(e,t,n,r,o){o.pageTrack("/schedule/course/{}".replace("{}",n.id)),i.call(this,e,t);var s=this;s.selectedCourse=null,r.getCourseQById(n.id).then(function(e){s.selectedCourse=e})}var i=e("./_base.controller");r.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("CourseViewAndSelectCtrl",["$state","$window","$stateParams","scheduleFactory","$analytics",r])},{"./_base.controller":1}],7:[function(e,t,n){"use strict";function r(e,t){function n(){return l}function r(t){if(t in c)return c[t];var n=a(t),r=u.replace("{}",n),o=e.get(r).then(function(e){var t=e.data;return Object.keys(t).map(function(e){return i.parse(t[e])})},function(){return[]});return c[t]=o,o}function a(e){return e.replace(/\W/g,"")}var c={},l=t.all([e.get(o).then(function(e){return e.data}),e.get(s).then(function(e){return e.data},function(){return{}})]).then(function(e){var t=e[0].subjectAreas,n=e[1];return Object.keys(t).map(function(e){return{code:e,description:t[e],abbreviations:e in n?n[e]:[]}})});return{getSubjectAreasQ:n,getCoursesQBySubjectAreaCode:r}}var i=e("../models/course"),o="data/final/departments.json",s="data/final/abbreviations.json",u="data/final/fa16/classes/{}.json";angular.module("scheduleBuilder").factory("courses",["$http","$q",r])},{"../models/course":16}],8:[function(e,t,n){function r(){function e(e,t,n){function r(){var e=n.getCurrScheduleId();void 0===e&&s(),y.goToState("schedule.viewSchedule",{scheduleId:e})}function s(){y.goToState("schedule.generatingSchedules",{scheduleGroupId:n.getCurrentScheduleGroupId()})}function u(e){e&&a(!1),y.showSavedSchedules=e,n.setSchedulingOption("showSavedSchedules",y.showSavedSchedules)}function a(e){e&&u(!1),y.showOptions=e,n.setSchedulingOption("showOptions",y.showOptions)}function c(){switch(y.gapOption){case y.gapOptions.minimize:n.setSchedulingOption("minimizeGaps",!0),n.setSchedulingOption("maximizeGaps",!1);break;case y.gapOptions.maximize:n.setSchedulingOption("minimizeGaps",!1),n.setSchedulingOption("maximizeGaps",!0);break;case y.gapOptions.none:n.setSchedulingOption("minimizeGaps",!1),n.setSchedulingOption("maximizeGaps",!1)}null!=y.gapOption&&(y.preferPartOfDay=y.partsOfDay.none,n.setSchedulingOption("preferMornings",!1),n.setSchedulingOption("preferAfternoons",!1),n.setSchedulingOption("preferEvenings",!1)),n.filterAndReorderSchedules()}function l(){switch(y.preferPartOfDay){case y.partsOfDay.morning:n.setSchedulingOption("preferMornings",!0),n.setSchedulingOption("preferAfternoons",!1),n.setSchedulingOption("preferEvenings",!1);break;case y.partsOfDay.afternoon:n.setSchedulingOption("preferMornings",!1),n.setSchedulingOption("preferAfternoons",!0),n.setSchedulingOption("preferEvenings",!1);break;case y.partsOfDay.evening:n.setSchedulingOption("preferMornings",!1),n.setSchedulingOption("preferAfternoons",!1),n.setSchedulingOption("preferEvenings",!0);break;case y.partsOfDay.none:n.setSchedulingOption("preferMornings",!1),n.setSchedulingOption("preferAfternoons",!1),n.setSchedulingOption("preferEvenings",!1)}y.preferPartOfDay!=y.partsOfDay.none&&(y.gapOption=y.gapOptions.none,n.setSchedulingOption("minimizeGaps",!1),n.setSchedulingOption("maximizeGaps",!1)),n.filterAndReorderSchedules()}function d(){y.disablePreferNoTimeConflicts=y.noTimeConflicts,n.setSchedulingOption("noTimeConflicts",y.noTimeConflicts),n.filterAndReorderSchedules()}function h(){C.setSchedulingOption("preferNoTimeConflicts",y.preferNoTimeConflicts),n.filterAndReorderSchedules()}function f(){for(var e=v.slice(),t=i.parse(y.selectedDayStartTimeJson);e.length>0&&e[0].compareTo(t)<0;)e.shift();y.dayEndTimes=e,n.setSchedulingOption("dayStartTime",t),n.filterAndReorderSchedules()}function p(){for(var e=v.slice(),t=i.parse(y.selectedDayEndTimeJson);e.length>0&&e[e.length-1].compareTo(t)>0;)e.pop();y.dayStartTimes=e,n.setSchedulingOption("dayEndTime",t),n.filterAndReorderSchedules()}function g(e){var t=i.parse(y.selectedDayStartTimeJson);return e.hours===t.hours&&e.minutes===t.minutes}function m(e){var t=i.parse(y.selectedDayEndTimeJson);return e.hours===t.hours&&e.minutes===t.minutes}o.call(this,e,t);for(var y=this,S=[],v=[],T=8,w=24,b=T;w>b;b++)S.push(new i(b,0)),v.push(new i(b,0)),v.push(new i(b,30));S.push(new i(b,0)),v.push(new i(b,0));var C=n.getSchedulingOptions();y.scheduleIsStale=n.isStale(),y.showSavedSchedules=C.showSavedSchedules,y.showOptions=C.showOptions,y.toggleSavedSchedules=u,y.toggleOptions=a,y.viewSchedules=r,y.generateAndViewSchedules=s,y.gapOptions={minimize:"minimizeGaps",maximize:"maximizeGaps",none:"dontWorryAboutGaps"},C.minimizeGaps?y.gapOption=y.gapOptions.minimize:C.maximizeGaps?y.gapOption=y.gapOptions.maximize:y.gapOption=y.gapOptions.none,y.onChangeGapOption=c,y.partsOfDay={morning:"preferMorning",afternoon:"preferAfternoon",evening:"preferEvening",none:"preferNone"},C.preferMornings?y.preferPartOfDay=y.partsOfDay.morning:C.preferAfternoons?y.preferPartOfDay=y.partsOfDay.afternoon:C.preferEvenings?y.preferPartOfDay=y.partsOfDay.evening:y.preferPartOfDay=y.partsOfDay.none,y.onChangePreferPartOfDay=l,y.selectedDayStartTimeJson=C.dayStartTime||v[0],y.selectedDayEndTimeJson=C.dayEndTime||v[v.length-1],y.dayStartTimes=v,y.dayEndTimes=v,y.onSelectDayStartTime=f,y.onSelectDayEndTime=p,y.isSelectedDayStartTime=g,y.isSelectedDayEndTime=m,y.noTimeConflicts=C.noTimeConflicts,y.onChangeNoTimeConflicts=d,y.preferNoTimeConflicts=C.preferNoTimeConflicts,y.disablePreferNoTimeConflicts=y.noTimeConflicts,y.onChangePreferNoTimeConflicts=h,y.savedScheduleIds=n.getSavedScheduleIds(),y.dropSavedScheduleById=function(e,t){e.stopPropagation(),n.dropSavedScheduleById(t)},n.registerSetStaleListener(function(t){y.scheduleIsStale=t,t&&e.includes("schedule.viewSchedule")&&y.generateAndViewSchedules()}),n.registerAddSavedScheduleIdListener(function(e){y.savedScheduleIds.push(e)}),n.registerDropSavedScheduleIdListener(function(e){y.savedScheduleIds.remove(e)})}return e.prototype=Object.create(o.prototype),{controller:["$state","$window","scheduleFactory",e],controllerAs:"dvm",templateUrl:"html/generate_schedules.partial.html"}}var i=e("../models/time"),o=e("./_base.controller");angular.module("scheduleBuilder").directive("sbGenerateSchedules",[r])},{"../models/time":23,"./_base.controller":1}],9:[function(e,t,n){function r(e,t,n,r,o,s,u){u.pageTrack("/schedule/generate?{}".replace("{}",n(r))),i.call(this,e,t);var a=this;a.scheduleGenerationStatus=s.getScheduleGenerationStatus(),console.log(a.scheduleGenerationStatus),s.registerScheduleGenerationStatusListener("generatingSchedules",function(e){a.scheduleGenerationStatus=e});var c=o.defer(),l=r.scheduleGroupId,d=r.startScheduleId;l?c.resolve(s.setCurrentScheduleGroupById(l)):d&&c.resolve(s.setCurrentScheduleGroupByScheduleIdQ(d)),c.promise.then(function(){s.generateSchedulesQ().then(function(){s.filterAndReorderSchedules(),a.goToState("schedule.viewSchedule",{scheduleId:d||s.getCurrScheduleId()})})})}var i=e("./_base.controller");r.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("GeneratingSchedulesCtrl",["$state","$window","$httpParamSerializer","$stateParams","$q","scheduleFactory","$analytics",r])},{"./_base.controller":1}],10:[function(e,t,n){function r(e,t,n,r){function o(){r.setPreference("showMobUnoptDialog",!s.doNotShowMobUnoptDialog),n.hide()}i.call(this,e,t);var s=this;s.doNotShowMobUnoptDialog=!1,s.close=o}var i=e("./_base.controller");r.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("MobileUnoptimizedDialogCtrl",["$state","$window","$mdDialog","scheduleFactory",r])},{"./_base.controller":1}],11:[function(e,t,n){"use strict";function r(e,t,n){function r(e){if(e in u){var r=t.defer();return r.resolve(u[e]),r.promise}return c.then(function(t){return t[e]}).then(function(t){return n.getCoursesQBySubjectAreaCode(t[0]).then(function(n){for(var r=t[1],i=0;i<n.length;i++)if(n[i].courseNumber===r){var o=n[i];return u[e]=o,o}})})}function i(e){if(e in u){var n=t.defer();return n.resolve(u[e]),n.promise}return a.then(function(t){return t[e]}).then(r)}var u={},a=e.get(o).then(function(e){return e.data}),c=e.get(s).then(function(e){return e.data});return{getCourseQBy1arySectionId:r,getCourseQBy2arySectionId:i}}var i="data/final/fa16/indices/{}.json",o=i.replace("{}","2ary-to-1ary-section-id"),s=i.replace("{}","1ary-section-id-to-subject-area");angular.module("scheduleBuilder").factory("reverseLookup",["$http","$q","courses",r])},{}],12:[function(e,t,n){angular.module("scheduleBuilder").run(["$window","$state","$rootScope","$mdDialog","$mdMedia","scheduleFactory",function(e,t,n,r,i,o){function s(e){return Math.max(e.offsetHeight,e.clientHeight)}function u(){c&&d&&(a=s(document.body),l=s(c),l>a?d.style["min-height"]=l:d.style["min-height"]=null)}n.$state=t;var a=null,c=null,l=null,d=null;n.$on("$viewContentLoaded",function(){c=c||document.getElementById("left-pane"),d=d||document.getElementById("right-pane"),u()}),e.addEventListener("resize",u);var h=o.getPreferences().showMobUnoptDialog;h&&i("xs")&&r.show({templateUrl:"html/mobile_unoptimized.dialog.html",controller:"MobileUnoptimizedDialogCtrl",controllerAs:"vm",parent:angular.element(document.body),clickOutsideToClose:!0})}])},{}],13:[function(e,t,n){function r(e,t,n,r){function g(){for(var e="",t=0;10>t;t++)e+=a[Math.floor(Math.random()*a.length)];return e}function m(){var e=n.get(c);return void 0===e&&(e=g(),n.put(c,e,{expires:Ae})),e}function y(){var e=n.getObject(l);return void 0===e&&Oe&&(e=[Oe],n.putObject(l,Me,{expires:Ae})),e}function S(){var e=d.replace("{}",Oe),t=n.getObject(e)||{};return void 0===t.showMobUnoptDialog&&(t.showMobUnoptDialog=!0),t}function v(){var e=d.replace("{}",Oe);n.putObject(e,Fe)}function T(){var e=p.replace("{}",Oe),t=n.getObject(e)||{};return t.showSavedSchedules=t.showSavedSchedules||!1,t.showOptions=t.showOptions||!1,t.minimizeGaps=t.minimizeGaps||!1,t.maximizeGaps=t.maximizeGaps||!1,t.preferMornings=t.preferMornings||!1,t.preferAfternoons=t.preferAfternoons||!1,t.preferEvenings=t.preferEvenings||!1,t.preferNoTimeConflicts=t.preferNoTimeConflicts||!1,t.dayStartTime=t.dayStartTime||null,t.dayEndTime=t.dayEndTime||null,void 0===t.noTimeConflicts&&(t.noTimeConflicts=!0),t.showFinalsSchedule=t.showFinalsSchedule||!1,t}function w(){var e=p.replace("{}",Oe);n.putObject(e,Qe)}function b(){var e=h.replace("{}",Oe),t=n.getObject(e);t&&t.forEach(function(e){ve.push(r.getCourseQBy1arySectionId(e.id).then(function(t){t.selected=void 0===e.selected||e.selected,t.sections.forEach(function(t){e.unselectedSections.indexOf(t.id)>=0&&(t.selected=!1)}),R(t)}))})}function C(){var e=[];for(var t in Pe){var r=[],i=[];Pe[t].sections.forEach(function(e){e.selected?r.push(e.id):i.push(e.id)}),e.push({id:t,selected:Pe[t].selected,selectedSections:r,unselectedSections:i})}var o=h.replace("{}",Oe);n.putObject(o,e,{expires:Ae})}function I(){var e=f.replace("{}",Oe),t=n.getObject(e);t&&t.forEach(function(e){he(e)})}function A(){var e=f.replace("{}",Oe);n.putObject(e,xe,{expires:Ae})}function O(){return angular.copy(Fe)}function M(e,t){Fe[e]=t,v()}function F(){return Se}function P(){Se=!0,Te.forEach(function(e){e(Se)})}function D(e){Te.push(e)}function E(){return we}function B(e){void 0===e&&(e=!0),we=e,C(),be.forEach(function(e){e(we)})}function x(e){be.push(e)}function L(e){Ce=e,Ie.forEach(function(t){t(e)})}function j(e){Ie.push(e)}function G(){var e=[];for(var t in Pe)e.push(Pe[t]);return e}function N(t){if(Pe.hasOwnProperty(t))return e.when(Pe[t]);var n=r.getCourseQBy2arySectionId(t);return n.then($),n}function R(e){return Pe.hasOwnProperty(e.id)?!1:(Pe[e.id]=e,e.add(),e.sections.forEach(function(e){De[e.id]=e}),B(!0),Ee.forEach(function(t){t(e)}),!0)}function $(e){var t=R(e);return t&&C(),t}function _(e){return Pe.hasOwnProperty(e.id)?(delete Pe[e.id],e.drop(),e.sections.forEach(function(e){delete De[e.id]}),B(!0),Be.forEach(function(t){t(e)}),!0):!1}function z(e){var t=_(e);return t&&C(),t}function k(e){Ee.push(e)}function U(e){Be.push(e)}function W(){We=Re.map(function(e){return Ne[e].length}).reduce(function(e,t){return e+t},0)}function Q(){return t(function(){function n(e){o+=e,Y(new u.Generating(o))}function r(){return t(function(){for(var e=0;s>e;){if(null==a)return o+=e,void i.resolve();c=a.getTimeFootprint(),Ne.hasOwnProperty(c)||(Ne[c]=[]),Ne[c].push(a.id),e++,a=Ge.nextSchedule()}return n(e),r()})}Ne={};var i=e.defer(),o=0,s=1e3,a=Ge.nextSchedule(),c=null;return r(),i.promise.then(function(){Re=Object.keys(Ne),W(),B(!1),oe(!0)})})}function H(){Re=Object.keys(Ne),Y(new u.FilteringAndReordering(We,!0)),Object.keys(Ve).forEach(function(e){if(Qe[e]){var t=Ve[e];Re=Re.filter(function(e){return t(e)})}}),Y(new u.FilteringAndReordering(We,!1));var e,t=Object.keys(He).filter(function(e){return Qe[e]}),n={};Re.sort(function(r,i){return n.hasOwnProperty(r)||(e=0,t.forEach(function(t){e+=He[t](r)}),n[r]=e),n.hasOwnProperty(i)||(e=0,t.forEach(function(t){e+=He[t](i)}),n[i]=e),n[i]-n[r]}),ze=0,ke=0,Ue=0,W(),oe(!0)}function V(){if(null===Ge||E()){var e=Object.keys(Pe).map(function(e){return Pe[e]}).filter(function(e){return e.selected});Ge=new s(Oe,e)}return Ge.id}function q(t){if(null===Ge||Ge.id!==s.normalizeId(t)){var n=s.getUserIdFromId(t),i=s.getCourseIdsFromId(t),o=[],u=[];return i.forEach(function(e){var t=Pe[e];t?o.push(t):u.push(r.getCourseQBy1arySectionId(e).then(function(e){o.push(e),$(e)}))}),e.all(u).then(function(){Object.keys(Pe).forEach(function(e){Pe[e].selected=i.indexOf(parseInt(e))>=0}),Ge=new s(n,o)})}}function J(t){if(null!==ue(t))return e.when();var n=o.getUserIdFromId(t),i=o.getSectionIdsFromId(t),u=[],a=[],c=[];return i.forEach(function(e){if(De.hasOwnProperty(e)){var t=De[e];a.push(t),u.push(t.course.id)}else c.push(r.getCourseQBy2arySectionId(e).then(function(t){if(B(!0),u.push(t.id),R(t))t.sections.forEach(function(t){t.id===e?(t.selected=!0,a.push(t)):t.selected=!1});else{t=Pe[t.id];for(var n=0;n<t.sections.length;n++){var r=t.sections[n];if(r.id===e){a.push(r),r.selected=!0;break}}}}))}),e.all(c).then(function(){var e=[];Object.keys(Pe).forEach(function(t){if(u.indexOf(parseInt(t))>=0){var n=Pe[t];n.selected=!0,e.push(n)}else Pe[t].selected=!1}),Ge=new s(n,e)})}function Y(e){Object.keys($e).forEach(function(t){$e[t](e)})}function K(){return E()?new u.Stale:new u.Done(We)}function X(e,t){$e[e]=t}function Z(e){return Ne[Re[e]]||[]}function ee(e,t){return Z(e)[t]}function te(){return ee(ze,ke)}function ne(){var e=Re.length;if(0>=e)return null;for(var t=ze,n=ke-1;0>n;)t=(ze+e-1)%e,n=Z(t).length-1;return ee(t,n)}function re(){var e=Re.length;if(0>=e)return null;for(var t=ze,n=ke+1;n>=Z(t).length;)t=(ze+1)%e,n=0;return ee(t,n)}function ie(){return{total:We,currentIdx:Ue,firstScheduleId:ee(0,0),prevScheduleId:ne(),nextScheduleId:re()}}function oe(e){var t=ie();t.scheduleListChanged=e,Object.keys(_e).forEach(function(e){_e[e](t)})}function se(e,t){_e[e]=t}function ue(e){return Ge?Ge.getScheduleById(e):null}function ae(e){if(E())return null;var t=ue(e);if(null===t)return t;for(ze=Re.length,ke=-1,Ue=We;0>ke&&ze>0;){ze--;var n=Z(ze);Ue-=n.length,ke=n.indexOf(e)}return Ue+=ke,t}function ce(){return angular.copy(Qe)}function le(e,t){Qe[e]=t,w()}function de(){return xe.slice()}function he(e){return xe.indexOf(e)>=0?!1:(xe.push(e),Le.forEach(function(t){t(e)}),!0)}function fe(e){var t=he(e);return t&&A(),t}function pe(e){Le.push(e)}function ge(e){var t=xe.indexOf(e);return 0>t?!1:(xe.splice(t,1),je.forEach(function(t){t(e)}),!0)}function me(e){var t=ge(e);return t&&A(),t}function ye(e){je.push(e)}var Se=!1,ve=[],Te=[],we=!1,be=[],Ce=!1,Ie=[],Ae=function(){var e=new Date;return e.setFullYear(e.getFullYear()+1),e}(),Oe=m(),Me=y(),Fe=S(),Pe={},De={},Ee=[],Be=[],xe=[],Le=[],je=[],Ge=null,Ne={},Re=[],$e={},_e={},ze=0,ke=0,Ue=0,We=0,Qe=T(),He={minimizeGaps:function(e){return-He.maximizeGaps(e)},maximizeGaps:function(e){var t,n,r,i,s=o.timeFootprints[e],u=0;for(var a in s){var c=s[a];if(c.length>=2)for(n=c[0].meeting.endTime.getTotalMinutes(),r=1;r<c.length;r++)t=c[r],n>0&&(i=t.meeting.startTime.getTotalMinutes()-n,u+=Math.max(0,i)/60),n=Math.max(n,t.meeting.endTime.getTotalMinutes())}return u},preferMornings:function(e){var t=o.timeFootprints[e],n=0,r=0;for(var s in t)for(var u=t[s],a=0;a<u.length;a++)r++,u[a].meeting.endTime.compareTo(i.noon)<=0&&n++;return n/r},preferAfternoons:function(e){var t=o.timeFootprints[e],n=0,r=0;for(var s in t)for(var u=t[s],a=0;a<u.length;a++)r++,u[a].meeting.startTime.compareTo(i.noon)>=0&&u[a].meeting.endTime.compareTo(i.fivePM)<=0&&n++;return n/r},preferEvenings:function(e){var t=o.timeFootprints[e],n=0,r=0;for(var s in t)for(var u=t[s],a=0;a<u.length;a++)r++,u[a].meeting.startTime.compareTo(i.fivePM)>=0&&n++;return n/r},preferNoTimeConflicts:function(e){var t,n,r,i=o.timeFootprints[e],s=0,u=0;for(var a in i){var c=i[a];if(u+=c.length,c.length>=2)for(n=c[0].meeting.endTime.getTotalMinutes(),r=1;r<c.length;r++)t=c[r],n>0&&t.meeting.startTime.getTotalMinutes()<n&&s++,n=Math.max(n,t.meeting.endTime.getTotalMinutes())}return s/u}},Ve={noTimeConflicts:function(e){if(!Qe.noTimeConflicts)return!0;var t,n,r,i=o.timeFootprints[e];for(var s in i){var u=i[s];if(u.length>=2)for(n=u[0].meeting.endTime.getTotalMinutes(),r=1;r<u.length;r++){if(t=u[r],n>0&&t.meeting.startTime.getTotalMinutes()<n)return!1;n=Math.max(n,t.meeting.endTime.getTotalMinutes())}}return!0},dayStartTime:function(e){if(null==Qe.dayStartTime)return!0;var t=o.timeFootprints[e];for(var n in t){var r=t[n];if(r.length>0&&r[0].meeting.startTime.compareTo(Qe.dayStartTime)<0)return!1}return!0},dayEndTime:function(e){if(null==Qe.dayEndTime)return!0;var t=o.timeFootprints[e];for(var n in t)for(var r=t[n],i=0;i<r.length;i++)if(r[i].meeting.endTime.compareTo(Qe.dayEndTime)>0)return!1;return!0}};return b(),I(),e.all(ve).then(function(){P()}),{getPreferences:O,setPreference:M,isReady:F,registerSetReadyListener:D,isStale:E,setStale:B,registerSetStaleListener:x,setInDisplayMode:L,registerSetInDisplayModeListener:j,getAllCourses:G,getCourseQById:N,addCourse:$,registerAddCourseListener:k,dropCourse:z,registerDropCourseListener:U,generateSchedulesQ:Q,getCurrentScheduleGroupId:V,setCurrentScheduleGroupById:q,setCurrentScheduleGroupByScheduleIdQ:J,getScheduleByIdFromCurrentScheduleGroup:ue,getCurrScheduleId:te,getPrevScheduleId:ne,getNextScheduleId:re,getScheduleGenerationStatus:K,registerScheduleGenerationStatusListener:X,getCurrScheduleListInfo:ie,registerCurrScheduleListInfoChangeListener:se,setCurrentScheduleById:ae,getSchedulingOptions:ce,setSchedulingOption:le,filterAndReorderSchedules:H,getSavedScheduleIds:de,addSavedScheduleById:fe,dropSavedScheduleById:me,registerAddSavedScheduleIdListener:pe,registerDropSavedScheduleIdListener:ye}}var i=e("../models/time"),o=e("../models/schedule"),s=e("../models/scheduleGroup"),u=e("../models/scheduleGenerationStatus"),a="abcdefghijklmnopqrstuvwxyz0123456789",c="primaryUserId",l="allUserIds",d="{}.preferences",h="{}.addedCourses",f="{}.savedScheduleIds",p="{}.schedulingOptions";angular.module("scheduleBuilder").factory("scheduleFactory",["$q","$timeout","$cookies","reverseLookup",r])},{"../models/schedule":19,"../models/scheduleGenerationStatus":20,"../models/scheduleGroup":21,"../models/time":23}],14:[function(e,t,n){function r(e){function t(e,t,o){function s(){I.showFinalsSchedule=!I.showFinalsSchedule,o.setSchedulingOption("showFinalsSchedule",I.showFinalsSchedule)}function d(e,t){var n=[];for(var r in e){var i=e[r][0].course.finalMeeting;i.meeting&&i.meeting.days[t]&&n.push(i)}return n}function h(e){switch(e.meeting.startTime.hours){case 8:return 0;case 11:return.25*g;case 15:return.5*g;case 19:return.75*g}}function f(){return g/4}function p(e){var t=i.colorCodes[e.course.color],n=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16);return"rgba("+n+","+r+","+o+","+I.finalColorOpacity+")"}function w(e){var t=e.meeting.startTime.getTotalMinutes()-y;return t/S*m}function b(e){var t=e.meeting.getTotalMinutes();return t/S*m}function C(e){var t=i.colorCodes[e.course.color],n=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16);return"rgba("+n+","+r+","+o+","+I.sectionColorOpacity+")"}u.call(this,e,t);var I=this,A=o.getSchedulingOptions();I.showFinalsSchedule=A.showFinalsSchedule,I.finalMeetings=l,I.hours=n,I.halfHours=r,I.days=a,I.dayDates=c,I.finalColorOpacity=v,I.sectionColorOpacity=T,I.currScheduleListInfo=o.getCurrScheduleListInfo(),I.showShareMessage=!1,I.addSavedScheduleById=o.addSavedScheduleById,I.toggleFinalsSchedule=s,I.getFinalsForDay=d,I.getFinalPosition=h,I.getFinalHeight=f,I.getFinalColor=p,I.getMeetingPosition=w,I.getMeetingHeight=b,I.getMeetingColor=C,I.getPrevScheduleId=function(){return I.currScheduleListInfo.prevScheduleId},o.registerCurrScheduleListInfoChangeListener("scheduleDisplay",function(e){I.currScheduleListInfo=e,e.scheduleListChanged&&I.goToState("schedule.viewSchedule",{scheduleId:e.firstScheduleId})})}for(var n=[],r=[],a=["Monday","Tuesday","Wednesday","Thursday","Friday"],c={Monday:"12/12",Tuesday:"12/13",Wednesday:"12/14",Thursday:"12/15",Friday:"12/16"},l=[new o(new s(8,0),new s(11,0),{}),new o(new s(11,30),new s(2,30),{}),new o(new s(15,0),new s(18,0),{}),new o(new s(19,0),new s(22,0),{})],d=8,h=24,f=h-d,p=d;h>p;p++)n.push(new s(p,0)),r.push(new s(p,0)),r.push(new s(p,30));var g=165,m=600,y=new s(d,0).getTotalMinutes(),S=new s(f,0).getTotalMinutes(),v="0.6",T="0.6";return t.prototype=Object.create(u.prototype),{scope:{schedule:"="},controller:["$state","$window","scheduleFactory",t],controllerAs:"vm",templateUrl:"html/schedule_display.partial.html"}}var i=e("../models/course"),o=e("../models/meeting"),s=e("../models/time"),u=e("./_base.controller");angular.module("scheduleBuilder").directive("sbScheduleDisplay",["scheduleFactory",r])},{"../models/course":16,"../models/meeting":18,"../models/time":23,"./_base.controller":1}],15:[function(e,t,n){function r(e,t,n,r,o){o.pageTrack("/schedule/{}".replace("{}",n.scheduleId)),i.call(this,e,t);var s=this,u=n.scheduleId;s.selectedSchedule=null,u&&(s.selectedSchedule=r.setCurrentScheduleById(n.scheduleId)),null===s.selectedSchedule&&s.goToState("schedule.generatingSchedules",{startScheduleId:u})}var i=e("./_base.controller");r.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("ScheduleViewAndSelectCtrl",["$state","$window","$stateParams","scheduleFactory","$analytics",r])},{"./_base.controller":1}],16:[function(e,t,n){"use strict";function r(e){void 0===e.displayName&&console.log(e);var t=e.displayName.split(" ",2);this.department=t[0],this.courseNumber=t[1],this.title=e.title,this.instructors=e.instructors,this.id=parseInt(e.id),this.units=e.units,this.meeting=o.parse(e.time),this.finalMeeting=new i(this),this.sectionTypes=[],this.sections=e.sections.map(function(e){var t=new s(e,this);return this.sectionTypes.indexOf(t.type)<0&&this.sectionTypes.push(t.type),t},this),this.selected=!1,this.color=null,this.view=!1}var i=e("./final"),o=e("./meeting"),s=e("./section");r.colorCodes={red:"#f44336",pink:"#e91e63",purple:"#9c27b0","deep-purple":"#673ab7",indigo:"#3f51b5",blue:"#2196f3",cyan:"#00bcd4",teal:"#009688",green:"#4caf50","light-green":"#8bc34a",amber:"#ffc107",orange:"#ff9800","deep-orange":"#ff5722",brown:"#795548","blue-grey":"#607d8b"},r.unregisteredColors=Object.keys(r.colorCodes),r.registeredColors=[],r.courseColors={},r.getRegisteredColor=function(){var e=r.unregisteredColors.length;if(0==e)return r.registeredColors[Math.floor(Math.random()*r.registeredColors.length)];var t=Math.floor(Math.random()*e),n=r.unregisteredColors.splice(t,1)[0];return r.registeredColors.push(n),n},r.unRegisterColor=function(e){r.registeredColors.remove(e),r.unregisteredColors.push(e)},r.parse=function(e){return new r(e)},r.prototype.getSectionsByType=function(e){return this.sections.filter(function(t){return t.type===e})},r.prototype.add=function(){r.courseColors.hasOwnProperty(this.id)||(r.courseColors[this.id]=r.getRegisteredColor()),this.color=r.courseColors[this.id]},r.prototype.drop=function(){this.selected=!1,delete r.courseColors[this.id],r.unRegisterColor(this.color)},t.exports=r},{"./final":17,"./meeting":18,"./section":22}],17:[function(e,t,n){"use strict";function r(e){if(this.course=e,this.meeting=r.getSubjectCourseToFinalSection(e),!this.meeting&&e.meeting){var t=e.meeting.days;t.Saturday||t.Sunday?this.meeting=r.getSatSunCourseTimeToFinalSection(e):t.Monday||t.Wednesday||t.Friday?this.meeting=r.getMTWRFCourseTimeToFinalSection(e):(t.Tuesday||t.Thursday)&&(this.meeting=r.getTRCourseTimeToFinalSection(e))}}var i=e("./meeting"),o=e("./time");r.meetings={Monday811AM:new i(new o(8,0),new o(11,0),i.daysFromAbrvs("M")),Monday1130230PM:new i(new o(11,30),new o(2,30),i.daysFromAbrvs("M")),Monday36PM:new i(new o(15,0),new o(18,0),i.daysFromAbrvs("M")),Monday710PM:new i(new o(19,0),new o(22,0),i.daysFromAbrvs("M")),Tuesday811AM:new i(new o(8,0),new o(11,0),i.daysFromAbrvs("T")),Tuesday1130230PM:new i(new o(11,30),new o(2,30),i.daysFromAbrvs("T")),Tuesday36PM:new i(new o(15,0),new o(18,0),i.daysFromAbrvs("T")),Tuesday710PM:new i(new o(19,0),new o(22,0),i.daysFromAbrvs("T")),Wednesday811AM:new i(new o(8,0),new o(11,0),i.daysFromAbrvs("W")),Wednesday1130230PM:new i(new o(11,30),new o(2,30),i.daysFromAbrvs("W")),Wednesday36PM:new i(new o(15,0),new o(18,0),i.daysFromAbrvs("W")),Wednesday710PM:new i(new o(19,0),new o(22,0),i.daysFromAbrvs("W")),Thursday811AM:new i(new o(8,0),new o(11,0),i.daysFromAbrvs("R")),Thursday1130230PM:new i(new o(11,30),new o(2,30),i.daysFromAbrvs("R")),Thursday36PM:new i(new o(15,0),new o(18,0),i.daysFromAbrvs("R")),Thursday710PM:new i(new o(19,0),new o(22,0),i.daysFromAbrvs("R")),Friday811AM:new i(new o(8,0),new o(11,0),i.daysFromAbrvs("F")),
Friday1130230PM:new i(new o(11,30),new o(2,30),i.daysFromAbrvs("F")),Friday36PM:new i(new o(15,0),new o(18,0),i.daysFromAbrvs("F")),Friday710PM:new i(new o(19,0),new o(22,0),i.daysFromAbrvs("F"))},r.elementaryForeignLangListing={AFRICAM:["30A","30B","11A","11B","7A","7B","13A","13B"],ARABIC:["1A","1B"],CELTIC:["102A","15"],CHINESE:["1A","1B","1X","1Y"],CUNEIF:["100A","100B","106A","106B","102A","102B"],EGYPT:["100A","100B"],FRENCH:["1","2"],GERMAN:["1","2"],GREEK:["1","2"],HEBREW:["1A","1B"],ITALIAN:["1","2"],JAPAN:["1A","1B"],KOREAN:["1A","1AX","1B","1BX"],LATIN:["1","2"],PERSIAN:["1A","1B"],RUSSIAN:["1","2"],"S,SEASN":["1A","1B"],SANSKR:["100A","100B"],SPANISH:["1","2"],TELUGU:["1A","1B"],TIBETAN:["1A","1B"],TURKISH:["1A","1B"],YIDDISH:["101"]},r.getSubjectCourseToFinalSection=function(e){if("ECON"===e.department){if("1"===e.courseNumber||"100B"===e.courseNumber)return r.meetings.Tuesday1130230PM}else if("CHEM"===e.department){if("1A"===e.courseNumber||"1B"===e.courseNumber)return r.meetings.Monday36PM}else if(e.department in r.elementaryForeignLangListing&&r.elementaryForeignLangListing[e.department].indexOf(e.courseNumber)>=0)return r.meetings.Wednesday1130230PM},r.getMTWRFCourseTimeToFinalSection=function(e){switch(e.meeting.startTime.hours){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return null;case 8:return r.meetings.Monday710PM;case 9:return r.meetings.Tuesday710PM;case 10:return r.meetings.Monday811AM;case 11:return r.meetings.Monday1130230PM;case 12:return r.meetings.Friday1130230PM;case 13:return r.meetings.Wednesday710PM;case 14:return r.meetings.Thursday36PM;case 15:return r.meetings.Tuesday710PM;case 16:return r.meetings.Thursday811AM;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:return r.meetings.Friday36PM}},r.getTRCourseTimeToFinalSection=function(e){switch(e.meeting.startTime.hours){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return null;case 8:return r.meetings.Wednesday36PM;case 9:return r.meetings.Tuesday36PM;case 10:return r.meetings.Friday36PM;case 11:return r.meetings.Wednesday811AM;case 12:case 13:return r.meetings.Friday811AM;case 14:return r.meetings.Tuesday811AM;case 15:case 16:return r.meetings.Friday710PM;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:return r.meetings.Thursday1130230PM}},r.getSatSunCourseTimeToFinalSection=function(){return r.meetings.Wednesday36PM},t.exports=r},{"./meeting":18,"./time":23}],18:[function(e,t,n){"use strict";function r(e,t,n){this.startTime=e,this.endTime=t,this.days=n}var i=e("./time.js");r.parse=function(e){if(null===e.startTime||null===e.endTime)return new r(null,null,e.days);var t=e.startTime.split(":"),n=new i(parseInt(t[0]),parseInt(t[1])),o=e.endTime.split(":"),s=new i(parseInt(o[0]),parseInt(o[1]));return new r(n,s,e.days)},r.dayAbrvExpansions={M:"Monday",T:"Tuesday",W:"Wednesday",R:"Thursday",F:"Friday"},r.dayAbrvs=[["Monday","M"],["Tuesday","T"],["Wednesday","W"],["Thursday","R"],["Friday","F"]],r.daysFromAbrvs=function(e){for(var t={Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1},n=0;n<e.length;n++)t[r.dayAbrvExpansions[e[n]]]=!0;return t},r.prototype.getTotalMinutes=function(){return this.endTime.getTotalMinutes()-this.startTime.getTotalMinutes()},r.prototype.toString=function(){var e="";return r.dayAbrvs.forEach(function(t){this.days[t[0]]&&(e+=t[1])},this),null==this.startTime||null==this.endTime?e:e+" "+this.startTime.toString()+" - "+this.endTime.toString()},t.exports=r},{"./time.js":23}],19:[function(e,t,n){"use strict";function r(e,t){this.courses={},this.meetingsByDay={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[]};var n=[];t.forEach(function(e){n.push(e.id);var t=e.course.id;this.courses.hasOwnProperty(t)||(this.courses[t]=[]),this.courses[t].push(e);for(var r in e.meeting.days)e.meeting.days[r]&&this.meetingsByDay[r].push(e)},this);for(var i in this.meetingsByDay)this.meetingsByDay[i].sort(function(e,t){return e.meeting.startTime.compareTo(t.meeting.startTime)});this.id=r.generateId([e].concat(n)),this.selected=!0}var i=e("./meeting");r.timeFootprints={},r.prototype.getTimeFootprint=function(){var e=i.dayAbrvs.map(function(e){return e[1]+this.meetingsByDay[e[0]].map(function(e){return e.meeting.startTime.getTotalMinutes()+"-"+e.meeting.endTime.getTotalMinutes()}).reduce(function(e,t){return e+"."+t},"")},this).reduce(function(e,t){return e+"|"+t},"");return r.timeFootprints[e]=this.meetingsByDay,e},r.generateId=function(e){var t=e.shift();return e=e.map(function(e){return parseInt(e)}),e.sort(function(e,t){return e-t}),e.unshift(t),e.join(".")},r.normalizeId=function(e){return null===e?null:r.generateId(e.split("."))},r.getUserIdFromId=function(e){return e.split(".")[0]},r.getSectionIdsFromId=function(e){return e.split(".").slice(1).map(function(e){return parseInt(e)})},t.exports=r},{"./meeting":18}],20:[function(e,t,n){"use strict";function r(e){this.status=e}function i(){r.call(this,"stale")}function o(e){r.call(this,"generating"),this.numGenerated=e}function s(e,t){r.call(this,"filteringAndReordering"),this.numGenerated=e,this.filtering=t}function u(e){r.call(this,"done"),this.numGenerated=e}function a(){r.call(this,"failed")}i.prototype=Object.create(r.prototype),o.prototype=Object.create(r.prototype),s.prototype=Object.create(r.prototype),u.prototype=Object.create(r.prototype),a.prototype=Object.create(r.prototype);var c={Stale:i,Generating:o,FilteringAndReordering:s,Done:u,Failed:a};t.exports=c},{}],21:[function(e,t,n){"use strict";function r(e,t){this.id=r.generateId(e,t),this.userId=e,this.courses=t,this.sections={},this.sectionChoices=[],this.courses.forEach(function(e){e.sectionTypes.forEach(function(t){this.sectionChoices.push(e.getSectionsByType(t).map(function(e){return this.sections[e.id]=e,e},this).filter(function(e){return e.selected},this))},this)},this),this.resetIterator()}var i=e("./schedule");r.generateId=function(e,t){var n=t.map(function(e){return e.id});return n.unshift(e),i.generateId(n)},r.normalizeId=function(e){return null===e?null:i.generateId(e.split("."))},r.getCourseIdsFromId=function(e){return i.getSectionIdsFromId(e)},r.getUserIdFromId=function(e){return i.getUserIdFromId(e)},r.prototype._nextScheduleSectionIds=function(){return this._updateIterator()?this.sectionChoices.map(function(e,t){return e[this.sectionChoiceIterator[t]]},this):[]},r.prototype.nextSchedule=function(){var e=this._nextScheduleSectionIds();return this._getScheduleWithSections(e)},r.prototype.nextScheduleId=function(){var e=this._nextScheduleSectionIds().map(function(e){return e.id});return 0===e.length?null:i.generateId([this.userId].concat(e))},r.prototype.getScheduleById=function(e){var t=!0,n=i.getSectionIdsFromId(e);if(n.length!=this.sectionChoices.length)return null;var r=n.map(function(e){var n=this.sections[e];return n||(t=!1),n},this);return t?this._getScheduleWithSections(r):null},r.prototype.resetIterator=function(){this.sectionChoiceIterator=this.sectionChoices.map(function(){return 0}),this.sectionChoiceIterator[0]=-1},r.prototype._updateIterator=function(){for(var e=0;e<this.sectionChoiceIterator.length;){if(this.sectionChoiceIterator[e]++,this.sectionChoiceIterator[e]<this.sectionChoices[e].length)return!0;this.sectionChoiceIterator[e]=0,e++}return!1},r.prototype._getScheduleWithSections=function(e){return 0===e.length?null:new i(this.userId,e)},t.exports=r},{"./schedule":19}],22:[function(e,t,n){"use strict";function r(e,t){angular.extend(this,e),this.id=parseInt(this.id),null!==this.location&&(this.location=this.location.description),this.meeting=i.parse(this.time),delete this.time,this.course=t,this.selected=!0}var i=e("./meeting");t.exports=r},{"./meeting":18}],23:[function(e,t,n){"use strict";function r(e,t){(0>e||e>24)&&console.error("invalid hours",e),this.hours=e,(0>t||t>59)&&console.error("invalid minutes",t),this.minutes=t}r.parse=function(e){return("string"==typeof e||e instanceof String)&&(e=JSON.parse(e)),new r(e.hours,e.minutes)},r.noon=new r(12,0),r.fivePM=new r(17,0),r.prototype.add=function(e){return new r(this.hours+e.hours,this.minutes+e.minutes)},r.prototype.compareTo=function(e){return this.getTotalMinutes()-e.getTotalMinutes()},r.prototype.toString=function(){var e=this.hours,t="AM";e>=12&&(t="PM",e>12&&(e-=12));var n=e.toString();return 0!=this.minutes&&(n+=":"+this.minutes.toString()),n+t},r.prototype.getTotalMinutes=function(){return 60*this.hours+this.minutes},t.exports=r},{}]},{},[2]);