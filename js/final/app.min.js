!function e(t,r,n){function i(s,u){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){"use strict";function n(e,t){function r(t,r,n){e.go(t,r,n)}function n(e){t.open(e,"_blank")}var i=this;i.goToState=r,i.goToExternal=n}t.exports=n},{}],2:[function(e,t,r){!function(){"use strict";angular.module("scheduleBuilder",["ui.router","ngSanitize","ngCookies","ngMaterial"]),e("./config"),e("./courses.factory"),e("./reverseLookup.factory"),e("./schedule.factory"),e("./_base.controller"),e("./courseFind.controller"),e("./courseViewAndSelect.controller"),e("./scheduleViewAndSelect.controller"),e("./courseDisplayAndSelect.directive"),e("./scheduleDisplay.directive"),e("./generateSchedules.directive")}()},{"./_base.controller":1,"./config":3,"./courseDisplayAndSelect.directive":4,"./courseFind.controller":5,"./courseViewAndSelect.controller":6,"./courses.factory":7,"./generateSchedules.directive":8,"./reverseLookup.factory":9,"./schedule.factory":10,"./scheduleDisplay.directive":11,"./scheduleViewAndSelect.controller":12}],3:[function(e,t,r){angular.module("scheduleBuilder").config(["$stateProvider","$urlRouterProvider","$mdThemingProvider",function(e,t,r){e.state("schedule",{url:"/schedule",templateUrl:"html/schedule.html",controller:"CourseFindCtrl",controllerAs:"vm"}).state("schedule.viewCourse",{url:"/course/{id}",templateUrl:"html/course_view_and_select.partial.html",controller:"CourseViewAndSelectCtrl",controllerAs:"vm"}).state("schedule.viewSchedule",{url:"/{scheduleId}",templateUrl:"html/schedule_view_and_select.partial.html",controller:"ScheduleViewAndSelectCtrl",controllerAs:"vm"}),t.otherwise("schedule");var n={50:"#0073e1",100:"#0066c8",200:"#0059ae",300:"#004c95",400:"#003f7b",500:"#003262",600:"#002548",700:"#00182f",800:"#000b15",900:"#000000",A100:"#0080fb",A200:"#158dff",A400:"#2f99ff",A700:"#000000"};r.definePalette("berkeley-primary",n);var i={50:"#785301",100:"#916501",200:"#ab7601",300:"#c48802",400:"#dd9902",500:"#f6ab02",600:"#fdbd2e",700:"#fdc548",800:"#fecd61",900:"#fed57a",A100:"#fdbd2e",A200:"#FDB515",A400:"#f6ab02",A700:"#fedd93"};r.definePalette("berkeley-accent",i),r.theme("default").primaryPalette("berkeley-primary").accentPalette("berkeley-accent")}])},{}],4:[function(e,t,r){function n(){function e(e,t,r,n){function o(){a.selectAllSections?r.course.sections.forEach(function(e){e.selected=!0}):r.course.sections.forEach(function(e){e.selected=!1}),s()}function s(){n.setStale(!0)}function u(e){return a.sectionTypeMapping[e.type]}i.call(this,e,t);var a=this;a.sectionTypeMapping={LEC:0,DIS:3,GRP:5,LAB:7},a.selectAllSections=!1,a.onChangeSelectAllSections=o,a.setSchedulesStale=s,a.extractSectionTypeMapping=u}return e.prototype=Object.create(i.prototype),{scope:{course:"="},controller:["$state","$window","$scope","scheduleFactory",e],controllerAs:"vm",templateUrl:"html/course_display_and_select.partial.html"}}var i=e("./_base.controller");angular.module("scheduleBuilder").directive("sbCourseDisplayAndSelect",[n])},{"./_base.controller":1}],5:[function(e,t,r){function n(e,t,r,n){function o(e){return e?v.subjectAreasList.filter(s(e)):v.subjectAreasList}function s(e){return e=angular.lowercase(e),function(t){return 0===angular.lowercase(t.code).indexOf(e)||0===angular.lowercase(t.description).indexOf(e)}}function u(e){return e?void r.getCoursesQBySubjectAreaCode(e.code).then(function(e){v.coursesList=e,v.courseIsDisabled=!1}):(v.courseIsDisabled=!0,void(v.coursesList=[]))}function a(e){return e?v.coursesList.filter(c(e)):v.coursesList}function c(e){return e=angular.lowercase(e),function(t){return 0===angular.lowercase(t.courseNumber).indexOf(e)||0===angular.lowercase(t.title).indexOf(e)}}function l(e){e&&m(e)}function d(e){var t=e.courseNumber;return parseInt(S.exec(t)[2])}function f(e){var t=e.courseNumber;return S.exec(t)[3]}function p(e){var t=e.courseNumber;return S.exec(t)[1]}function h(){n.setStale()}function g(){n.setInDisplayMode(!1),v.goToState("schedule")}function m(e){n.addCourse(e)}function y(e){n.dropCourse(e)}i.call(this,e,t);var v=this;v.scheduleIsReady=n.isReady(),v.subjectAreaIsDisabled=!1,v.courseIsDisabled=!0,v.selectedCourse=null,v.inDisplayMode=!1,v.coursesList=[],v.subjectAreasList=[],v.currCourse=null,v.searchSubjectArea=o,v.selectSubjectArea=u,v.searchCourse=a,v.selectCourse=l,v.extractCourseNumberNumber=d,v.extractCourseNumberSuffix=f,v.extractCourseNumberPrefix=p,v.addedCoursesList=n.getAllCourses(),v.setSchedulesStale=h,v.leaveDisplayMode=g,v.addCourse=m,v.dropCourse=y,v.generateSchedules=n.generateSchedules,r.getSubjectAreasQ().then(function(e){v.subjectAreasList=e}),n.registerSetReadyListener(function(e){v.scheduleIsReady=e}),n.registerSetInDisplayModeListener(function(e){v.inDisplayMode=e}),n.registerSetCurrCourseListener(function(e){v.currCourse=e}),n.registerAddCourseListener(function(e){v.addedCoursesList.push(e),v.scheduleIsReady&&v.goToState("schedule.viewCourse",{id:e.id})}),n.registerDropCourseListener(function(e){v.addedCoursesList.remove(e),0!=v.addedCoursesList.length?v.goToState("schedule.viewCourse",{id:v.addedCoursesList[v.addedCoursesList.length-1].id}):v.goToState("schedule")});var S=/^([a-zA-Z]*)(\d+)([a-zA-Z]*)/}var i=e("./_base.controller");n.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("CourseFindCtrl",["$state","$window","courses","scheduleFactory",n])},{"./_base.controller":1}],6:[function(e,t,r){function n(e,t,r,n){i.call(this,e,t);var o=this;o.selectedCourse=null,n.getCourseQById(r.id).then(function(e){o.selectedCourse=e,n.setCurrCourse(e)})}var i=e("./_base.controller");n.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("CourseViewAndSelectCtrl",["$state","$window","$stateParams","scheduleFactory",n])},{"./_base.controller":1}],7:[function(e,t,r){"use strict";function n(e){function t(){return a}function r(t){if(t in u)return u[t];var r=n(t),o=s.replace("{}",r),a=e.get(o).then(function(e){var t=e.data;return Object.keys(t).map(function(e){return i.parse(t[e])})},function(){return[]});return u[t]=a,a}function n(e){return e.replace(/\W/g,"")}var u={},a=e.get(o).then(function(e){var t=e.data.subjectAreas;return Object.keys(t).map(function(e){return{code:e,description:t[e]}})});return{getSubjectAreasQ:t,getCoursesQBySubjectAreaCode:r}}var i=e("../models/course"),o="data/final/departments.json",s="data/final/fa16/classes/{}.json";angular.module("scheduleBuilder").factory("courses",["$http",n])},{"../models/course":13}],8:[function(e,t,r){function n(){function e(e,t,r){function n(){var e=r.getCurrScheduleId();void 0!==e&&h.goToState("schedule.viewSchedule",{scheduleId:e})}function s(){r.generateSchedules(),r.filterSchedules(),r.reorderSchedules(),n()}function u(){h.showOptions=!h.showOptions,r.setSchedulingOption("showOptions",h.showOptions)}function a(){switch(console.log("changing gap"),h.gapOption){case h.gapOptions.minimize:r.setSchedulingOption("minimizeGaps",!0),r.setSchedulingOption("maximizeGaps",!1);break;case h.gapOptions.maximize:r.setSchedulingOption("minimizeGaps",!1),r.setSchedulingOption("maximizeGaps",!0);break;case h.gapOptions.none:r.setSchedulingOption("minimizeGaps",!1),r.setSchedulingOption("maximizeGaps",!1)}null!=h.gapOption&&(h.preferPartOfDay=h.partsOfDay.none,r.setSchedulingOption("preferMornings",!1),r.setSchedulingOption("preferAfternoons",!1),r.setSchedulingOption("preferEvenings",!1)),r.reorderSchedules()}function c(){switch(console.log("changing day"),h.preferPartOfDay){case h.partsOfDay.morning:r.setSchedulingOption("preferMornings",!0),r.setSchedulingOption("preferAfternoons",!1),r.setSchedulingOption("preferEvenings",!1);break;case h.partsOfDay.afternoon:r.setSchedulingOption("preferMornings",!1),r.setSchedulingOption("preferAfternoons",!0),r.setSchedulingOption("preferEvenings",!1);break;case h.partsOfDay.evening:r.setSchedulingOption("preferMornings",!1),r.setSchedulingOption("preferAfternoons",!1),r.setSchedulingOption("preferEvenings",!0);break;case h.partsOfDay.none:r.setSchedulingOption("preferMornings",!1),r.setSchedulingOption("preferAfternoons",!1),r.setSchedulingOption("preferEvenings",!1)}h.preferPartOfDay!=h.partsOfDay.none&&(h.gapOption=h.gapOptions.none,r.setSchedulingOption("minimizeGaps",!1),r.setSchedulingOption("maximizeGaps",!1)),r.reorderSchedules()}function l(){for(var e=m.slice(),t=i.parse(h.selectedDayStartTimeJson);e.length>0&&e[0].compareTo(t)<0;)e.shift();h.dayEndTimes=e,r.setSchedulingOption("dayStartTime",t),r.filterSchedules()}function d(){for(var e=m.slice(),t=i.parse(h.selectedDayEndTimeJson);e.length>0&&e[e.length-1].compareTo(t)>0;)e.pop();h.dayStartTimes=e,r.setSchedulingOption("dayEndTime",t),r.filterSchedules()}function f(e){var t=i.parse(h.selectedDayStartTimeJson);return e.hours===t.hours&&e.minutes===t.minutes}function p(e){var t=i.parse(h.selectedDayEndTimeJson);return e.hours===t.hours&&e.minutes===t.minutes}o.call(this,e,t);for(var h=this,g=[],m=[],y=8,v=19,S=y;v>S;S++)g.push(new i(S,0)),m.push(new i(S,0)),m.push(new i(S,30));g.push(new i(S,0)),m.push(new i(S,0));var O=r.getSchedulingOptions();h.scheduleIsStale=r.isStale(),h.showOptions=O.showOptions,h.viewSchedules=n,h.generateAndViewSchedules=s,h.toggleOptions=u,h.gapOptions={minimize:"minimizeGaps",maximize:"maximizeGaps",none:"dontWorryAboutGaps"},O.minimizeGaps?h.gapOption=h.gapOptions.minimize:O.maximizeGaps?h.gapOption=h.gapOptions.maximize:h.gapOption=h.gapOptions.none,h.onChangeGapOption=a,h.partsOfDay={morning:"preferMorning",afternoon:"preferAfternoon",evening:"preferEvening",none:"preferNone"},O.preferMornings?h.preferPartOfDay=h.partsOfDay.morning:O.preferAfternoons?h.preferPartOfDay=h.partsOfDay.afternoon:O.preferEvenings?h.preferPartOfDay=h.partsOfDay.evening:h.preferPartOfDay=h.partsOfDay.none,h.onChangePreferPartOfDay=c,h.selectedDayStartTimeJson=O.dayStartTime||m[0],h.selectedDayEndTimeJson=O.dayEndTime||m[m.length-1],h.dayStartTimes=m,h.dayEndTimes=m,h.onSelectDayStartTime=l,h.onSelectDayEndTime=d,h.isSelectedDayStartTime=f,h.isSelectedDayEndTime=p,r.registerSetStaleListener(function(e){h.scheduleIsStale=e})}return e.prototype=Object.create(o.prototype),{controller:["$state","$window","scheduleFactory",e],controllerAs:"dvm",templateUrl:"html/generate_schedules.partial.html"}}var i=e("../models/time"),o=e("./_base.controller");angular.module("scheduleBuilder").directive("sbGenerateSchedules",[n])},{"../models/time":17,"./_base.controller":1}],9:[function(e,t,r){"use strict";function n(e,t,r){function n(e){if(e in u){var n=t.defer();return n.resolve(u[e]),n.promise}return c.then(function(t){return t[e]}).then(function(t){return r.getCoursesQBySubjectAreaCode(t[0]).then(function(r){for(var n=t[1],i=0;i<r.length;i++)if(r[i].courseNumber===n){var o=r[i];return u[e]=o,o}})})}function i(e){if(e in u){var r=t.defer();return r.resolve(u[e]),r.promise}return a.then(function(t){return t[e]}).then(n)}var u={},a=e.get(o).then(function(e){return e.data}),c=e.get(s).then(function(e){return e.data});return{getCourseQBy1arySectionId:n,getCourseQBy2arySectionId:i}}var i="data/final/fa16/indices/{}.json",o=i.replace("{}","2ary-to-1ary-section-id"),s=i.replace("{}","1ary-section-id-to-subject-area");angular.module("scheduleBuilder").factory("reverseLookup",["$http","$q","courses",n])},{}],10:[function(e,t,r){function n(e,t,r){function n(){for(var e="",t=0;10>t;t++)e+=s[Math.floor(Math.random()*s.length)];return e}function d(){var e=t.get(u);return void 0===e&&(e=n(),t.put(u,e,{expires:te})),e}function f(){var e=t.getObject(a);return void 0===e&&re&&(e=[re],t.putObject(a,ne,{expires:te})),e}function p(){var e=l.replace("{}",re),r=t.getObject(e);return void 0===r&&(r={}),r.showOptions=r.showOptions||!1,r.minimizeGaps=r.minimizeGaps||!1,r.maximizeGaps=r.maximizeGaps||!1,r.preferMornings=r.preferMornings||!1,r.preferAfternoons=r.preferAfternoons||!1,r.preferEvenings=r.preferEvenings||!1,r.dayStartTime=r.dayStartTime||null,r.dayEndTime=r.dayEndTime||null,r}function h(){var e=l.replace("{}",re);t.putObject(e,ge)}function g(){var e=c.replace("{}",re),n=t.getObject(e);n&&n.forEach(function(e){H.push(r.getCourseQBy1arySectionId(e.id).then(function(t){t.sections.forEach(function(t){e.unselectedSections.indexOf(t.id)>=0&&(t.selected=!1)}),x(t)}))})}function m(){var e=[];for(var r in ie){var n=[],i=[];ie[r].sections.forEach(function(e){e.selected?n.push(e.id):i.push(e.id)}),e.push({id:r,selectedSections:n,unselectedSections:i})}var o=c.replace("{}",re);t.putObject(o,e,{expires:te})}function y(){return W}function v(){W=!0,Y.forEach(function(e){e(W)})}function S(e){Y.push(e)}function O(){return Z}function C(e){Z=e,m(),K.forEach(function(e){e(Z)})}function b(e){K.push(e)}function T(e){X=e,ee.forEach(function(t){t(e)})}function w(e){ee.push(e)}function I(e){oe=e,ce.forEach(function(t){t(e)})}function D(e){ce.push(e)}function A(){var e=[];for(var t in ie)e.push(ie[t]);return e}function M(t){if(ie.hasOwnProperty(t)){var n=e.defer();return n.resolve(ie[t]),n.promise}var i=r.getCourseQBy2arySectionId(t);return i.then(E),i}function x(e){return ie.hasOwnProperty(e.id)?!1:(ie[e.id]=e,e.add(),e.sections.forEach(function(e){se[e.id]=e}),C(!0),ue.forEach(function(t){t(e)}),!0)}function E(e){var t=x(e);return t&&m(),t}function B(e){return ie.hasOwnProperty(e.id)?(delete ie[e.id],e.drop(),e.sections.forEach(function(e){delete se[e.id]}),C(!0),ae.forEach(function(t){t(e)}),!0):!1}function L(e){var t=B(e);return t&&m(),t}function j(e){ue.push(e)}function P(e){ae.push(e)}function z(){if(!Z)return le;le={},de=[];var e=[];for(var t in ie){var r=ie[t];r.sectionTypes.forEach(function(t){e.push(r.getSectionsByType(t).filter(function(e){return e.selected}))})}var n=e.length,i=function(t,r){for(var s=0,u=e[r].length;u>s;s++){var a=t.slice(0);if(a.push(e[r][s]),r===n-1){var c=new o(re,a);le[c.id]=c,de.push(c.id)}else i(a,r+1)}};return i([],0),fe=de.slice(),he=0,C(!1),N(),le}function _(t){var n=o.getUserIdFromId(t),i=n==re;i||T(!0);var s=e.defer();if(le.hasOwnProperty(t))return s.resolve(le[t]),s.promise;if(t=o.normalizeId(t),le.hasOwnProperty(t))return s.resolve(le[t]),s.promise;var u=o.getSectionIdsFromId(t),a=[],c=[];return u.forEach(function(e){se.hasOwnProperty(e)?a.push(se[e]):c.push(r.getCourseQBy2arySectionId(e).then(function(t){if(i)if(Z=!0,x(t))t.sections.forEach(function(t){t.id===e?(t.selected=!0,a.push(t)):t.selected=!1});else{t=ie[t.id];for(var r=0;r<t.sections.length;r++){var n=t.sections[r];if(n.id===e){a.push(n),n.selected=!0;break}}}else{t.add();for(var o=0;o<t.sections.length;o++)if(t.sections[o].id===e){a.push(t.sections[o]);break}}}))}),e.all(c).then(function(){var e=new o(n,a);return le[e.id]=e,i&&(z(),V(),J()),e})}function k(){return fe[he]}function F(){var e=fe.length,t=(he+e-1)%e;return fe[t]}function G(){var e=(he+1)%fe.length;return fe[e]}function $(){return{total:fe.length,currentIdx:he,firstScheduleId:fe[0],prevScheduleId:F(),nextScheduleId:G()}}function N(e){var t=$();t.reloadRequired=e,Object.keys(pe).forEach(function(e){pe[e](t)})}function R(e,t){pe[e]=t}function Q(e){le.hasOwnProperty(e)||(e=o.normalizeId(e));var t=!1;he=fe.indexOf(e),0>he&&(he=0,t=!0),N(t)}function U(){return angular.copy(ge)}function q(e,t){ge[e]=t,h()}function V(){var e=k();fe=de.slice(),Object.keys(ye).forEach(function(e){var t=ye[e];fe=fe.filter(function(e){return t(le[e])})});var t=!1;he=fe.indexOf(e),0>he&&(he=0,t=!0),N(t)}function J(){var e,t,r=k(),n=Object.keys(me),i={};fe.sort(function(r,o){return i.hasOwnProperty(r)||(e=le[r],t=0,n.forEach(function(r){ge[r]&&(t+=me[r](e))}),i[r]=t),i.hasOwnProperty(o)||(e=le[o],t=0,n.forEach(function(r){ge[r]&&(t+=me[r](e))}),i[o]=t),i[o]-i[r]});var o=!1;he=fe.indexOf(r),0>he&&(he=0,o=!0),N(o)}var W=!1,H=[],Y=[],Z=!1,K=[],X=!1,ee=[],te=function(){var e=new Date;return e.setFullYear(e.getFullYear()+1),e}(),re=d(),ne=f(),ie={},oe=null,se={},ue=[],ae=[],ce=[],le={},de=[],fe=[],pe={},he=0,ge=p(),me={minimizeGaps:function(e){return-me.maximizeGaps(e)},maximizeGaps:function(e){var t,r,n,i,o=0;for(var s in e.meetingsByDay){var u=e.meetingsByDay[s];if(u.length>=2)for(r=u[0].meeting.endTime.getTotalMinutes(),n=1;n<u.length;n++)t=u[n],r>0&&(i=t.meeting.startTime.getTotalMinutes()-r,o+=Math.max(0,i)/60),r=Math.max(r,t.meeting.endTime.getTotalMinutes())}return o},preferMornings:function(e){var t=0,r=0;for(var n in e.meetingsByDay)for(var o=e.meetingsByDay[n],s=0;s<o.length;s++)r++,o[s].meeting.endTime.compareTo(i.noon)<=0&&t++;return t/r},preferAfternoons:function(e){var t=0,r=0;for(var n in e.meetingsByDay)for(var o=e.meetingsByDay[n],s=0;s<o.length;s++)r++,o[s].meeting.startTime.compareTo(i.noon)>=0&&o[s].meeting.endTime.compareTo(i.fivePM)<=0&&t++;return t/r},preferEvenings:function(e){var t=0,r=0;for(var n in e.meetingsByDay)for(var o=e.meetingsByDay[n],s=0;s<o.length;s++)r++,o[s].meeting.startTime.compareTo(i.fivePM)>=0&&t++;return t/r}},ye={dayStartTime:function(e){if(null==ge.dayStartTime)return!0;for(var t in e.meetingsByDay){var r=e.meetingsByDay[t];if(r.length>0&&r[0].meeting.startTime.compareTo(ge.dayStartTime)<0)return!1}return!0},dayEndTime:function(e){if(null==ge.dayEndTime)return!0;for(var t in e.meetingsByDay)for(var r=e.meetingsByDay[t],n=0;n<r.length;n++)if(r[n].meeting.endTime.compareTo(ge.dayEndTime)>0)return!1;return!0}};return g(),e.all(H).then(function(){v()}),{isReady:y,registerSetReadyListener:S,isStale:O,setStale:C,registerSetStaleListener:b,setInDisplayMode:T,registerSetInDisplayModeListener:w,setCurrCourse:I,registerSetCurrCourseListener:D,getAllCourses:A,getCourseQById:M,addCourse:E,registerAddCourseListener:j,dropCourse:L,registerDropCourseListener:P,generateSchedules:z,getScheduleQById:_,getCurrScheduleId:k,getPrevScheduleId:F,getNextScheduleId:G,getCurrScheduleListInfo:$,registerCurrScheduleListInfoChangeListener:R,setCurrentScheduleById:Q,getSchedulingOptions:U,setSchedulingOption:q,filterSchedules:V,reorderSchedules:J}}var i=e("../models/time"),o=e("../models/schedule"),s="abcdefghijklmnopqrstuvwxyz0123456789",u="primaryUserId",a="allUserIds",c="{}.addedCourses",l="{}.schedulingOptions";angular.module("scheduleBuilder").factory("scheduleFactory",["$q","$cookies","reverseLookup",n])},{"../models/schedule":15,"../models/time":17}],11:[function(e,t,r){function n(){function e(e,i,u){function a(e){var t=e.meeting.startTime.getTotalMinutes()-f;return t/p*d}function c(e){var t=e.meeting.getTotalMinutes();return t/p*d}function l(e){var t=o.colorCodes[e.course.color],r=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),i=parseInt(t.substring(5,7),16);return"rgba("+r+","+n+","+i+","+g.sectionColorOpacity+")"}s.call(this,e,i);var g=this;g.hours=t,g.halfHours=r,g.days=n,g.sectionColorOpacity=h,g.currScheduleListInfo=u.getCurrScheduleListInfo(),g.showShareMessage=!1,g.getMeetingPosition=a,g.getMeetingHeight=c,g.getMeetingColor=l,u.registerCurrScheduleListInfoChangeListener("scheduleDisplay",function(e){g.currScheduleListInfo=e,e.reloadRequired&&g.goToState("schedule.viewSchedule",{scheduleId:u.getCurrScheduleId()})})}for(var t=[],r=[],n=["Monday","Tuesday","Wednesday","Thursday","Friday"],u=8,a=19,c=a-u,l=u;a>l;l++)t.push(new i(l,0)),r.push(new i(l,0)),r.push(new i(l,30));var d=600,f=new i(u,0).getTotalMinutes(),p=new i(c,0).getTotalMinutes(),h="0.6";return e.prototype=Object.create(s.prototype),{scope:{schedule:"="},controller:["$state","$window","scheduleFactory",e],controllerAs:"vm",templateUrl:"html/schedule_display.partial.html"}}var i=e("../models/time"),o=e("../models/course"),s=e("./_base.controller");angular.module("scheduleBuilder").directive("sbScheduleDisplay",[n])},{"../models/course":13,"../models/time":17,"./_base.controller":1}],12:[function(e,t,r){function n(e,t,r,n){i.call(this,e,t);var o=this,s=r.scheduleId;s&&(n.setCurrentScheduleById(r.scheduleId),n.getScheduleQById(r.scheduleId).then(function(e){o.selectedSchedule=e}))}var i=e("./_base.controller");n.prototype=Object.create(i.prototype),angular.module("scheduleBuilder").controller("ScheduleViewAndSelectCtrl",["$state","$window","$stateParams","scheduleFactory",n])},{"./_base.controller":1}],13:[function(e,t,r){"use strict";function n(e){void 0===e.displayName&&console.log(e);var t=e.displayName.split(" ",2);this.department=t[0],this.courseNumber=t[1],this.title=e.title,this.instructors=e.instructors,this.id=e.id,this.units=e.units,this.sectionTypes=[],this.sections=e.sections.map(function(e){var t=new i(e,this);return this.sectionTypes.indexOf(t.type)<0&&this.sectionTypes.push(t.type),t},this),this.color=null,this.view=!1}var i=e("./section");n.colorCodes={red:"#f44336",pink:"#e91e63",purple:"#9c27b0","deep-purple":"#673ab7",indigo:"#3f51b5",blue:"#2196f3","light-blue":"#03a9f4",cyan:"#00bcd4",teal:"#009688",green:"#4caf50","light-green":"#8bc34a",amber:"#ffc107",orange:"#ff9800","deep-orange":"#ff5722",brown:"#795548","blue-grey":"#607d8b"},n.unregisteredColors=Object.keys(n.colorCodes),n.registeredColors=[],n.courseColors={},n.getRegisteredColor=function(){var e=n.unregisteredColors.length;if(0==e)return n.registeredColors[Math.floor(Math.random()*n.registeredColors.length)];var t=Math.floor(Math.random()*e),r=n.unregisteredColors.splice(t,1)[0];return n.registeredColors.push(r),r},n.unRegisterColor=function(e){n.registeredColors.remove(e),n.unregisteredColors.push(e)},n.parse=function(e){return new n(e)},n.prototype.getSectionsByType=function(e){return this.sections.filter(function(t){return t.type===e})},n.prototype.add=function(){n.courseColors.hasOwnProperty(this.id)||(n.courseColors[this.id]=n.getRegisteredColor()),this.color=n.courseColors[this.id]},n.prototype.drop=function(){delete n.courseColors[this.id],n.unRegisterColor(this.color)},t.exports=n},{"./section":16}],14:[function(e,t,r){"use strict";function n(e,t,r){this.startTime=e,this.endTime=t,this.days=r}var i=e("./time.js");n.parse=function(e){if(null===e.startTime||null===e.endTime)return new n(null,null,e.days);var t=e.startTime.split(":"),r=new i(parseInt(t[0]),parseInt(t[1])),o=e.endTime.split(":"),s=new i(parseInt(o[0]),parseInt(o[1]));return new n(r,s,e.days)},n.dayAbrvs=[["Monday","M"],["Tuesday","T"],["Wednesday","W"],["Thursday","R"],["Friday","F"]],n.prototype.getTotalMinutes=function(){return this.endTime.getTotalMinutes()-this.startTime.getTotalMinutes()},n.prototype.toString=function(){var e="";return n.dayAbrvs.forEach(function(t){this.days[t[0]]&&(e+=t[1])},this),null==this.startTime||null==this.endTime?e:e+" "+this.startTime.toString()+"-"+this.endTime.toString()},t.exports=n},{"./time.js":17}],15:[function(e,t,r){"use strict";function n(e,t){this.courses={},this.meetingsByDay={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[]};var r=[];t.forEach(function(e){r.push(e.id);var t=e.course.id;this.courses.hasOwnProperty(t)||(this.courses[t]=[]),this.courses[t].push(e);for(var n in e.meeting.days)e.meeting.days[n]&&this.meetingsByDay[n].push(e)},this);for(var i in this.meetingsByDay)this.meetingsByDay[i].sort(function(e,t){return e.meeting.startTime.compareTo(t.meeting.startTime)});this.id=n.generateId([e].concat(r)),this.selected=!0}n.generateId=function(e){var t=e.shift();return e=e.map(function(e){return parseInt(e)}),e.sort(function(e,t){return e-t}),e.unshift(t),e.join(".")},n.normalizeId=function(e){return null===e?null:n.generateId(e.split("."))},n.getUserIdFromId=function(e){return e.split(".")[0]},n.getSectionIdsFromId=function(e){return e.split(".").slice(1).map(function(e){return parseInt(e)})},t.exports=n},{}],16:[function(e,t,r){"use strict";function n(e,t){angular.extend(this,e),this.location=this.location.description,this.meeting=i.parse(this.time),delete this.time,this.course=t,this.selected=!0}var i=e("./meeting");t.exports=n},{"./meeting":14}],17:[function(e,t,r){"use strict";function n(e,t){(0>e||e>23)&&console.error("invalid hours",e),this.hours=e,(0>t||t>59)&&console.error("invalid minutes",t),this.minutes=t}n.parse=function(e){return("string"==typeof e||e instanceof String)&&(e=JSON.parse(e)),new n(e.hours,e.minutes)},n.noon=new n(12,0),n.fivePM=new n(17,0),n.prototype.add=function(e){return new n(this.hours+e.hours,this.minutes+e.minutes)},n.prototype.compareTo=function(e){return this.getTotalMinutes()-e.getTotalMinutes()},n.prototype.toString=function(){var e=this.hours,t="AM";e>=12&&(t="PM",e>12&&(e-=12));var r=e.toString();return 0!=this.minutes&&(r+=":"+this.minutes.toString()),r+t},n.prototype.getTotalMinutes=function(){return 60*this.hours+this.minutes},t.exports=n},{}]},{},[2]);